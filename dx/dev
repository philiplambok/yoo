#!/bin/bash
# Start Rails development server and Sidekiq worker using Foreman

# Source common functions
source "$(dirname "$0")/_common"
check_docker

echo "ðŸš‚ Starting Rails development server and Sidekiq worker with Foreman..."
echo "ðŸ“¡ Server will be accessible at http://localhost:3000"
echo "ðŸ’¼ Sidekiq web UI at http://localhost:3000/sidekiq"
echo "ðŸ”„ Press Ctrl+C to stop all processes"
echo ""

# Start both processes using foreman
docker-compose -f docker-compose.dev.yml exec app bundle exec foreman start