#!/bin/bash
# Prepare databases for development and testing

# Source common functions
source "$(dirname "$0")/_common"
check_docker

echo "ğŸ—„ï¸  Preparing databases..."
echo "ğŸ”„ This may take a moment on first run..."
echo ""

echo "ğŸ“Š Setting up development database..."
docker-compose -f docker-compose.dev.yml exec app bundle exec rails db:setup

echo ""
echo "ğŸ§ª Setting up test database..."
docker-compose -f docker-compose.dev.yml exec -e RAILS_ENV=test app bundle exec rails db:setup

echo ""
echo "âœ… All databases ready!"